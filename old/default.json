{
    "preprocess": [
        {
            "alias": "Dilate Reference Image Mask for Warp",
            "node_name": "dilateref",
            "params": [
                {
                    "on_off": "on",
                    "alias": "Kernel size (in voxels)",
                    "name": "kernel_size",
                    "value": [0, 4, 8],
                    "default": 0
                },
                {
                    "on_off": "off",
                    "alias": "Kernel shape",
                    "name": "kernel_shape",
                    "value_map": ["3D", "2D", "box", "boxv", "gauss", "sphere"],
                    "default": 5
                }
            ]
        },
        {
            "alias": "Discard Volumes",
            "node_name": "extract",
            "params": [
                {
                    "on_off": "on",
                    "alias": "Leading volumes to discard",
                    "name": "t_min",
                    "value": [0],
                    "default": 0
                }
            ]
        },
        {
            "alias": "Motion Correction",
            "node_name": "mcflirt",
            "params": [
                {
                    "on_off": "on",
                    "alias": "Interpolation method",
                    "name": "interpolation",
                    "value_map": ["spline", "nn", "sinc"],
                    "default": 0
                },
                {
                    "on_off": "on",
                    "alias": "Correct to mean image",
                    "name": "mean_vol",
                    "value_map": [false, true],
                    "default": 1
                }
            ]
        },
        {
            "alias": "Slice Correction",
            "node_name": "decision",
            "params": [
                {
                    "on_off": "on",
                    "alias": "Use slice correction",
                    "slice_correct": [false, true],
                    "default": 1
                }
            ]
        },
        {
            "alias": "Warp Alignment",
            "node_name": "prelim",
            "params": [
                {
                    "on_off": "on",
                    "alias": "Interpolation method",
                    "interp": ["trilinear", "nearestneighbour", "sinc", "spline"],
                    "default": 0
                },
                {
                    "on_off": "on",
                    "alias": "Internal resampling",
                    "no_resample": [false, true],
                    "default": 1
                }
            ]
        },
        {
            "alias": "Dilate Brain Mask for Warp",
            "node_name": "dilatebrain",
            "params": [
                {
                    "on_off": "on",
                    "alias": "Size (in voxels)",
                    "kernel_size": [0, 4, 8],
                    "default": 0
                },
                {
                    "on_off": "off",
                    "alias": "Kernel shape",
                    "kernel_shape": ["3D", "2D", "box", "boxv", "gauss", "sphere"],
                    "default": 5
                }
            ]
        },
        {
            "alias": "Warp resolution",
            "node_name": "warp",
            "params": [
                {
                    "on_off": "on",
                    "alias": "Resolution",
                    "warp_resolution": [[10,10,10], [20,20,20]],
                    "default": 0
                }
            ]
        },
        {
            "alias": "Coregistration to T1w",
            "node_name": "Fregistration",
            "params": [
                {
                    "on_off": "off",
                    "alias": "Brain boundary registration",
                    "bbr": [false, true],
                    "default": 1
                },
                {
                    "on_off": "on",
                    "alias": "Registration interpolation",
                    "regpre_interp": ["trilinear", "nearestneighbour", "sinc", "spline"],
                    "default": 0
                },
                {
                    "on_off": "on",
                    "alias": "Registration internal resampling",
                    "regpre_no_resample": [false, true],
                    "default": 1
                },
                {
                    "on_off": "off",
                    "alias": "XFM matrix",
                    "applywarp_": [
                        {"apply_isoxfm": 4, "apply_xfm": "", "uses_qform": ""},
                        {"apply_isoxfm": "", "apply_xfm": true, "uses_qform": ""}
                    ],
                    "default": 1
                },
                {
                    "on_off": "off",
                    "alias": "Concatenate transforms",
                    "concatenate": [false, true],
                    "default": 1
                }
            ]
        },
        {
            "alias": "Warp to MNI Space",
            "node_name": "Fmni",
            "params": [
                {
                    "on_off": "on",
                    "alias": "Warp post-stats",
                    "warplater": [false, true],
                    "default": 1
                },
                {
                    "on_off": "on",
                    "alias": "Interpolation",
                    "warped_interp": ["nn", "trilinear", "sinc", "spline"],
                    "default": 1
                }
            ]
        },
        {
            "alias": "Nuisance Regression",
            "node_name": "Fregress",
            "params": [
                {
                    "on_off": "off",
                    "alias": "Cerebrospinal fluid signal",
                    "CSF": [false, true],
                    "default": 1
                },
                {
                    "on_off": "off",
                    "alias": "White matter signal",
                    "WM": [false, true],
                    "default": 1
                },
                {
                    "on_off": "on",
                    "alias": "Global signal",
                    "GLOBAL": [false, true],
                    "default": 1
                },
                {
                    "on_off": "off",
                    "alias": "Normalize data",
                    "glm_dat_norm": [false, true],
                    "default": 1
                },
                {
                    "on_off": "off",
                    "alias": "Demean data",
                    "glm_demean": [false, true],
                    "default": 1
                },
                {
                    "on_off": "on",
                    "alias": "Motion parameters",
                    "realignregress": [false, true],
                    "default": 1
                }
            ]
        },
        {
            "alias": "Smoothing",
            "node_name": "Fsmooth",
            "params": [
                {
                    "on_off": "off",
                    "alias": "Use SUSAN smoothing algorithm",
                    "susan": [false, true],
                    "default": 1
                },
                {
                    "on_off": "on",
                    "alias": "Kernel smoothing FWHM (voxels)",
                    "fwhm": [2, 4, 6, 8, 10, 12],
                    "default": 2
                }
            ]
        }
    ],
    "level1": [
        {
            "alias": "Time Course Extraction",
            "node_name": "~construct~Finfo",
            "params": [
                {
                    "on_off": "on",
                    "alias": "Seed based method (atlas, roi, or reho)",
                    "rest_type": ["atlas", "ROI", "data"],
                    "default": 1
                },
                {
                    "on_off": "on",
                    "alias": "Atlas seed info, or custom mask",
                    "rest_seedinfo": [],
                    "default": -1
                },
                {
                    "on_off": "off",
                    "alias": "Default Atlas: Harvard-Oxford Cortical",
                    "rest_atlas": ["harvard"],
                    "default": 0,
                    "option": false
                },
                {
                    "on_off": "on",
                    "alias": "ROI coordinates",
                    "rest_coords": [],
                    "default": -1
                },
                {
                    "on_off": "on",
                    "alias": "ROI radius",
                    "rest_radius": [2, 4, 6, 8],
                    "default": 2
                },
                {
                    "on_off": "on",
                    "alias": "ReHo connectivity",
                    "rest_k": ["faces", "edges", "vertices"],
                    "default": 2
                },
                {
                    "on_off": "on",
                    "alias": "ReHo threshold",
                    "rest_kcc": [0.5, 0.6, 0.7],
                    "default": 0
                },
                {
                    "on_off": "on",
                    "alias": "Bandpass lower threshold",
                    "rest_lp": [0.01],
                    "default": 0
                },
                {
                    "on_off": "on",
                    "alias": "Bandpass upper threshold",
                    "rest_hp": [0.1],
                    "default": 0
                }
            ]
        },
        {
            "alias": "High Pass Filtering",
            "node_name": "Finfo",
            "params": [
                {
                    "on_off": "on",
                    "alias": "HP cutoff",
                    "HP": [128],
                    "default": 0
                }
            ]
        },
        {
            "alias": "Level 1 Design",
            "node_name": "l1d",
            "params": [
                {
                    "on_off": "on",
                    "alias": "Basis Functions",
                    "HP": [128],
                    "default": 0
                }
            ]
        }
    ]
}